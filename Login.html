<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LOGIN/REGISTER</title>
    <style>
        button {
            opacity: 0.7;

        }

        button:hover {
            opacity: 1;
        }
    </style>

</head>

<body style="justify-content: center;align-items: center;">

    <h2 style="display: flex; margin-top: 100px;margin-left: 600px; height: 10px;">
        <img src="https://cdn-icons-png.flaticon.com/128/30/30550.png" alt="logo" style="height: 50px;">
        <span style="color: black;">Knowledge</span>
        <span style="margin-left: 5px;color: red; margin-right:200px ;">Knights</span>
    </h2>


    <div style="width: 30vw;height: 350px;background-color: rgb(220, 216, 216); margin-top: 50px;margin-left: 500PX; ">

        <div id="Login">

            <form>
                <h3 style="text-align: center;padding-top:80px;">Login Here</h3>
                <table style="display: flex;justify-content: center;align-items: center;">
                    <tr>
                        <td>Email</td>
                        <td><input type="email" id="typedemail" placeholder="Enter Your Email"
                                style="height: 30px;width:200px;margin-top: 0px;margin-bottom: 5px;"></td>
                    </tr>
                    <tr>
                        <td>Password</td>
                        <td><input type="Password" id="typedpassword" placeholder="Enter Your Password"
                                style="height: 30px;width:200px;margin-top: 0px;"></td>
                    </tr>
                    <tr>
                        <td>
                            <input type="checkbox" name="" id="">
                            <label for="">Remember Password</label>
                        </td>
                    </tr>

                    <tr>
                        <td>
                            <button
                                style="color: white;background-color: rgb(89, 89, 214);width: 100%; height: 30px;border-radius: 5px;margin-top: 10px;margin-bottom: 10px;"
                                onclick="Login()" type="submit"> Login </button>
                        </td>



                        <td><button style="color: white;background-color:rgb(3, 173, 3);width: 100%; height: 30px;border-radius: 5px;margin-top: 10px;margin-bottom: 10px;
                    " onclick="ShowRegister()" type="button">Create New Account</button>
                        </td>
                    </tr>
                </table>
            </form>
        </div>


        <div style="display: none;" id="Register">




            <form>
                <h3 style="text-align: center;padding-top:50px;">Register Here</h3>
                <table style="display: flex;justify-content: center;align-items: center;">

                    <tr>
                        <td>
                            <label for="name">Name</label>
                        </td>
                        <td><input type="text" id="name" placeholder="Enter Your Name "
                                style="height: 30px;width:200px;margin-top: 0px;margin-bottom: 5px;"></td>
                    </tr>
                    <tr>
                        <td><label for="Email id">Email Id</label></td>
                        <td><input type="email" id="email" placeholder="Enter Your Email id"
                                style="height: 30px;width:200px;margin-top: 0px;"></td>
                    </tr>
                    <tr>
                        <td><label for="Password">Password</label></td>
                        <td><input type="password" id="password" placeholder="Enter Your Password"
                                style="height: 30px;width:200px;margin-top: 0px;"></td>
                    </tr>
                    <tr>
                        <td><label for="Password">Confirm Password</label></td>
                        <td><input type="password" id="confirmpassword" placeholder="Confirm Password"
                                style="height: 30px;width:200px;margin-top: 0px;"></td>
                    </tr>



                    <tr>
                        <td>
                            <button
                                style="color: white;background-color: rgb(89, 89, 214);width: 100%; height: 30px;border-radius: 5px;margin-top: 10px;margin-bottom: 10px;"
                                onclick="Registered()" type="submit">Register</button>
                        </td>


                        <td><button
                                style="color: white;background-color:rgb(3, 173, 3);width: 100%; height: 30px;border-radius: 5px;margin-top: 10px;margin-bottom: 10px;"
                                onclick="ShowLogin()" type="button">Already Have A Account</button>
                    </tr>






                </table>
            </form>
        </div>


    </div>
</body>

<script>

    function ShowRegister() {

        document.getElementById('Login').style.display = 'none'
        document.getElementById('Register').style.display = 'block'

    }

    function ShowLogin() {
        document.getElementById('Login').style.display = 'block'
        document.getElementById('Register').style.display = 'none'
    }

    function Registered() {
        const username = document.getElementById('name').value.trim();
        const useremail = document.getElementById('email').value.trim();
        const userpassword = document.getElementById('password').value.trim();
        const userCNFMpassword = document.getElementById('confirmpassword').value.trim();

        // Fix: Check if any field is empty
        if (!username || !useremail || !userpassword || !userCNFMpassword) {
            alert("Every field is required. Please try again!");
            return false;
        }

        // Check if passwords match
        if (userpassword === userCNFMpassword) {
            localStorage.setItem("name", username);
            localStorage.setItem("email", useremail);
            localStorage.setItem("password", userpassword);

            alert("✅ Registration complete. Please log in.");
            ShowLogin(); // Make sure this function exists and works
        } else {
            alert("❌ Password and Confirm Password do not match.");
            ShowRegister(); // Make sure this function exists and works
        }
    }


    function Login() {

        const typedemail = document.getElementById('typedemail').value.trim();
        const email = localStorage.getItem('email')

        const typedpassword = document.getElementById('typedpassword').value.trim()
        const password = localStorage.getItem('password')



        




        if (email == typedemail && password == typedpassword) {

            window.open("index.html", "_blank");
        }

        else {
            alert("Wrong Email or Password")
        }




    }

    localStorage.setItem("isLoggedIn", "true");



</script>

</html>